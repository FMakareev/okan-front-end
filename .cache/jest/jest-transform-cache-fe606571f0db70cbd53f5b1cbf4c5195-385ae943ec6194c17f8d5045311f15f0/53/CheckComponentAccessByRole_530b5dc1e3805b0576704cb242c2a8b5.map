{"version":3,"sources":["CheckComponentAccessByRole.js"],"names":["has","Object","prototype","hasOwnProperty","CheckComponentAccessByRole","children","targetRole","userRole","call","Array","isArray","some","item","name","propTypes","PropTypes","array","shape","string"],"mappings":";;;;;;;;;AAAA;;AACA;;AAEA,IAAMA,GAAG,GAAGC,MAAM,CAACC,SAAP,CAAiBC,cAA7B;AAEA;;;;AAGO,IAAMC,0BAA0B,GAAG,SAA7BA,0BAA6B,OAAwC;AAAA,MAArCC,QAAqC,QAArCA,QAAqC;AAAA,MAA3BC,UAA2B,QAA3BA,UAA2B;AAAA,MAAfC,QAAe,QAAfA,QAAe;;AAChF,MAAIA,QAAQ,IAAIP,GAAG,CAACQ,IAAJ,CAASD,QAAT,EAAmB,MAAnB,CAAhB,EAA4C;AAC1C,QAAID,UAAU,IAAIG,KAAK,CAACC,OAAN,CAAcJ,UAAd,CAAlB,EAA6C;AAC3C,UAAIA,UAAU,CAACK,IAAX,CAAgB,UAAAC,IAAI;AAAA,eAAIA,IAAI,KAAKL,QAAQ,CAACM,IAAtB;AAAA,OAApB,CAAJ,EAAqD;AACnD,eAAOR,QAAP;AACD,OAFD,MAEO,CACL;AACD;AACF,KAND,MAMO;AACL;AACA,aAAOA,QAAP;AACD;AACF,GAXD,MAWO,CACL;AACD;;AACD,SAAO,IAAP;AACD,CAhBM;;;AAkBPD,0BAA0B,CAACU,SAA3B,GAAuC;AACrCR,EAAAA,UAAU,EAAES,sBAAUC,KADe;AAErCT,EAAAA,QAAQ,EAAEQ,sBAAUE,KAAV,CAAgB;AACxBJ,IAAAA,IAAI,EAAEE,sBAAUG;AADQ,GAAhB;AAF2B,CAAvC;eAOed,0B","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst has = Object.prototype.hasOwnProperty;\r\n\r\n/**\r\n * @desc компонент сравнивает переданную роль с ролью пользоватея и принимает решение если совпадали рендерит компонент иначе не рендерит\r\n * */\r\nexport const CheckComponentAccessByRole = ({ children, targetRole, userRole }) => {\r\n  if (userRole && has.call(userRole, 'name')) {\r\n    if (targetRole && Array.isArray(targetRole)) {\r\n      if (targetRole.some(item => item === userRole.name)) {\r\n        return children;\r\n      } else {\r\n        // console.log(`Error CheckComponentAccessByRole: access denied`);\r\n      }\r\n    } else {\r\n      // console.log(`Error CheckComponentAccessByRole: targetRole is undefined`);\r\n      return children;\r\n    }\r\n  } else {\r\n    // console.log(`Error CheckComponentAccessByRole: userRole not found.`);\r\n  }\r\n  return null;\r\n};\r\n\r\nCheckComponentAccessByRole.propTypes = {\r\n  targetRole: PropTypes.array,\r\n  userRole: PropTypes.shape({\r\n    name: PropTypes.string,\r\n  }),\r\n};\r\n\r\nexport default CheckComponentAccessByRole;\r\n"]}