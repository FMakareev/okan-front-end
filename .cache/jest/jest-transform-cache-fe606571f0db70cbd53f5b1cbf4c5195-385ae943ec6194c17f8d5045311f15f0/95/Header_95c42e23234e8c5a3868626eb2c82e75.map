{"version":3,"sources":["Header.js"],"names":["Header","props","event","setState","isOpen","window","console","log","stopPropagation","state","initialState","nv","addEventListener","handleClick","handleWindow","removeEventListener","name","beginString","str","location","pathname","Logo","handleMouseOut","indexOf","elem","openMenu","Component","PropTypes","string","bool","func"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\n/** Css value */\r\nimport {\r\n  Wrapper,\r\n  LineWrapper,\r\n  LeftLineWrapper,\r\n  LogoWrapper,\r\n  ControlsWrapper,\r\n  Title,\r\n  ProfileLink,\r\n  ProjectListLink,\r\n  AbsoluteStyled,\r\n  BoxTop,\r\n  BoxBottom,\r\n  ButtonBaseStyled,\r\n} from './HeaderStyled';\r\n\r\n/** Image */\r\nimport Logo from '../../assets/image/Logo.png';\r\nimport { ProfileLogo, ProjectListLogo } from './Logos';\r\nimport GetNameProject from './GetNameProject';\r\n\r\n/** HOC */\r\nimport {TitleWrapper} from \"@lib/ui/Header/GetNameProject\";\r\n\r\nexport class Header extends Component {\r\n  static propTypes = {\r\n    /** route name */\r\n    name: PropTypes.string /** window (Modal) */,\r\n    isOpen: PropTypes.bool /** function for managments window(Modal) */,\r\n    handleClick: PropTypes.func,\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = this.initialState;\r\n\r\n    // this.handleMouseOut = this.handleMouseOut.bind(this);\r\n  }\r\n\r\n  get openMenu() {\r\n    return (\r\n      <AbsoluteStyled top={'33px'} right={'-15px'}>\r\n        <ProfileLink to=\"/app/profile\" activeClassName=\"active\">\r\n          <BoxTop>Профиль</BoxTop>\r\n        </ProfileLink>\r\n        <ProfileLink to=\"/logout\" activeClassName=\"active\">\r\n          <BoxBottom>Выйти</BoxBottom>\r\n        </ProfileLink>\r\n      </AbsoluteStyled>\r\n    );\r\n  }\r\n\r\n  get initialState() {\r\n    return { isOpen: false };\r\n  }\r\n\r\n  handleMouseOut = event => {\r\n    // event = event || window.event;\r\n    this.setState(({ isOpen }) => {\r\n      return { isOpen: false };\r\n    });\r\n    // event.stopPropagation();\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.nv.addEventListener('click', this.handleClick);\r\n\r\n    window.addEventListener('click', this.handleWindow);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.nv.removeEventListener('click', this.handleClick);\r\n\r\n    window.removeEventListener('click', this.handleWindow);\r\n  }\r\n\r\n  handleClick = event => {\r\n    event = event || window.event;\r\n    this.setState(({ isOpen }) => {\r\n      return { isOpen: true };\r\n    });\r\n    console.log(2);\r\n    event.stopPropagation();\r\n  };\r\n\r\n  handleWindow = () => {\r\n    this.setState(({ isOpen }) => {\r\n      return { isOpen: false };\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { name } = this.props;\r\n    const { isOpen } = this.state;\r\n\r\n    const beginString = '/app/project/';\r\n    const str = this.props.location.pathname;\r\n\r\n    return (\r\n      <Wrapper>\r\n        <LeftLineWrapper />\r\n        <LogoWrapper src={Logo} alt=\"logo\" />\r\n        <LineWrapper />\r\n        <ControlsWrapper>\r\n          <Title onMouseOver={this.handleMouseOut}>\r\n            {str.indexOf(beginString) === 0 ? <GetNameProject /> :<TitleWrapper>{name}</TitleWrapper>     }\r\n          </Title>\r\n\r\n          <ButtonBaseStyled\r\n            variant={'empty'}\r\n            position={'relative'}\r\n            id={'click'}\r\n            ref={elem => (this.nv = elem)}>\r\n            <ProfileLogo />\r\n            {isOpen && <Fragment>{this.openMenu}</Fragment>}\r\n          </ButtonBaseStyled>\r\n\r\n          <ProjectListLink\r\n            to=\"/app/project-list\"\r\n            activeClassName=\"active\"\r\n            title={'Список проектов'}\r\n            onMouseOver={this.handleMouseOut}>\r\n            <ProjectListLogo />\r\n          </ProjectListLink>\r\n        </ControlsWrapper>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\n// export default RenderOpenWindow(Header);\r\nHeader = withRouter(Header);\r\n\r\nexport default Header;\r\n"]}