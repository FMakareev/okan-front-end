{"version":3,"sources":["imageSnapshots.test.js"],"names":["storybookUrl","path","resolve","supportedDevices","Set","createCustomizePage","pupDevice","page","emulate","supportedDevice","pupDevices","customizePage","framework","suite","name","test"],"mappings":";;;;AAKA;;AACA;;AACA;;AACA;;AARA;;;;;;AAUA;AACA,IAAMA,YAAY,GAAGC,iBAAKC,OAAL,CAAa,kBAAb,CAArB;AAEA;;;AACA,IAAMC,gBAAgB,GAAG,IAAIC,GAAJ,CAAQ,CAAC,MAAD,EAAS,UAAT,EAAqB,UAArB,EAAiC,eAAjC,CAAR,CAAzB;AAEA;;AACA,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAAAC,SAAS;AAAA,SAAI,UAAAC,IAAI;AAAA,WAAIA,IAAI,CAACC,OAAL,CAAaF,SAAb,CAAJ;AAAA,GAAR;AAAA,CAArC;;;;;;;AAEA,uBAA4BH,gBAA5B,8HAA8C;AAAA,QAArCM,eAAqC;;AAC5C;AACA,QAAMH,SAAS,GAAGI,8BAAWD,eAAX,CAAlB;;AAEA,QAAI,CAACH,SAAL,EAAgB;AACd;AACD;;AAED,QAAMK,aAAa,GAAGN,mBAAmB,CAACC,SAAD,CAAzC;AAEA,qCAAe;AACbM,MAAAA,SAAS,EAAE,OADE;AAEbC,MAAAA,KAAK,8BAAuBP,SAAS,CAACQ,IAAjC,CAFQ;AAGbC,MAAAA,IAAI,EAAE,6CAAc;AAClBf,QAAAA,YAAY,EAAZA,YADkB;AAElBW,QAAAA,aAAa,EAAbA;AAFkB,OAAd;AAHO,KAAf;AAQD","sourcesContent":["/**\r\n *\r\n * @link https://medium.com/@davydkin.igor/storybook-case-study-automate-image-snapshots-with-different-devices-ad543ba65ffe\r\n *\r\n * */\r\nimport path from 'path';\r\nimport pupDevices from 'puppeteer/DeviceDescriptors';\r\nimport initStoryshots from '@storybook/addon-storyshots';\r\nimport { imageSnapshot } from '@storybook/addon-storyshots-puppeteer';\r\n\r\n/** Path to build static story */\r\nconst storybookUrl = path.resolve('storybook-static');\r\n\r\n/** Path to story */\r\nconst supportedDevices = new Set(['iPad', 'iPhone 5', 'iPhone 6', 'iPhone 7 Plus']);\r\n\r\n/** Create  */\r\nconst createCustomizePage = pupDevice => page => page.emulate(pupDevice);\r\n\r\nfor (let supportedDevice of supportedDevices) {\r\n  /** device config */\r\n  const pupDevice = pupDevices[supportedDevice];\r\n\r\n  if (!pupDevice) {\r\n    continue;\r\n  }\r\n\r\n  const customizePage = createCustomizePage(pupDevice);\r\n\r\n  initStoryshots({\r\n    framework: 'react',\r\n    suite: `Image storyshots: ${pupDevice.name}`,\r\n    test: imageSnapshot({\r\n      storybookUrl,\r\n      customizePage,\r\n    }),\r\n  });\r\n}\r\n"]}