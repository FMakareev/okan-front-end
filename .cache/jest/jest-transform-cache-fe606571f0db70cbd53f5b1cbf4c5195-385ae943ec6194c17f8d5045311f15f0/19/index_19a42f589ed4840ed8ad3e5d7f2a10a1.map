{"version":3,"sources":["index.js"],"names":["has","Object","prototype","hasOwnProperty","ProjectSettingsPage","params","props","match","ProjectItemQuery","id","data","error","loading","console","Error","call","projectitem","partners","map","item","Component","ReactRoutePropTypes","state","user"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAGA;;AAGA;;AAGA;;AACA;;AACA;;AAGA;;AAZA;;AAGA;;AAGA;;AAKA;AAGA,IAAMA,GAAG,GAAGC,MAAM,CAACC,SAAP,CAAiBC,cAA7B;;IAEaC,mB;;;;;;;;;;;;;;;;;8FAGH,E;;;;;;6BAEC;AAAA,UAEIC,MAFJ,GAGH,KAAKC,KAHF,CAELC,KAFK,CAEIF,MAFJ;AAKP,aACE,gCAAC,sBAAD,QACE,gCAAC,gBAAD;AAAM,QAAA,EAAE,EAAE,CAAV;AAAa,QAAA,cAAc,EAAE;AAA7B,SACE,gCAAC,qBAAD;AAAW,QAAA,QAAQ,EAAE,OAArB;AAA8B,QAAA,KAAK,EAAE;AAArC,SACE,gCAAC,kBAAD;AACE,QAAA,KAAK,EAAEG,4BADT;AAEE,QAAA,SAAS,EAAE;AACTC,UAAAA,EAAE,EAAEJ,MAAM,CAACI;AADF;AAFb,SAKG,gBAA8B;AAAA,YAA3BC,IAA2B,QAA3BA,IAA2B;AAAA,YAArBC,KAAqB,QAArBA,KAAqB;AAAA,YAAdC,OAAc,QAAdA,OAAc;;AAE7B,YAAIA,OAAJ,EAAa;AACXC,UAAAA,OAAO,CAACF,KAAR,CAAc,UAAd,EAA0BC,OAA1B;AACA,iBAAO,cAAP;AACD;;AACD,YAAID,KAAJ,EAAW;AACTE,UAAAA,OAAO,CAACF,KAAR,CAAc,QAAd,EAAwBA,KAAxB;AACA,gBAAMG,KAAK,CAACH,KAAD,CAAX;AACD;;AAED,YAAI,CAACD,IAAD,IAAUA,IAAI,IAAI,CAACV,GAAG,CAACe,IAAJ,CAASL,IAAT,EAAe,aAAf,CAAvB,EAAuD;AACrD,iBAAO,IAAP;AACD;;AAED,eACE,gCAAC,+BAAD;AACE,UAAA,aAAa,qCACRA,IAAI,CAACM,WADG;AAEXC,YAAAA,QAAQ,EAAEP,IAAI,CAACM,WAAL,GACNN,IAAI,CAACM,WAAL,CAAiBC,QAAjB,CAA0BC,GAA1B,CAA8B,UAAAC,IAAI;AAAA,qBAAIA,IAAI,CAACV,EAAT;AAAA,aAAlC,CADM,GAEN;AAJO;AADf,UADF;AAUD,OA9BH,CADF,CADF,CADF,CADF;AAwCD;;;EAlDsCW,gB;;;iCAA5BhB,mB,kDACaiB,wC;AAoD1B,8BAAAjB,mBAAmB,GAAG,yBAAQ,UAAAkB,KAAK;AAAA,SAAK;AACtCC,IAAAA,IAAI,EAAE,iCAAiBD,KAAjB;AADgC,GAAL;AAAA,CAAb,EAElBlB,mBAFkB,CAAtB;eAIeA,mB","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { Query } from 'react-apollo';\r\nimport ProjectItemQuery from './ProjectItemQuery.graphql';\r\n\r\n/** Redux user */\r\nimport { getUserFromStore } from '../../../../store/reducers/user/selectors';\r\n\r\n/**PropTypes */\r\nimport { ReactRoutePropTypes } from '../../../../propTypes/ReactRoutePropTypes';\r\n\r\n/** View */\r\nimport ErrorCatch from '@lib/ui/ErrorCatch/ErrorCatch';\r\nimport Flex from '@lib/ui/Flex/Flex';\r\nimport Container from '@lib/ui/Container/Container';\r\n\r\n/** Components */\r\nimport FormProjectSettings from '../../component/FormProjectSettings/FormProjectSettings';\r\n\r\nconst has = Object.prototype.hasOwnProperty;\r\n\r\nexport class ProjectSettingsPage extends Component {\r\n  static propTypes = { ...ReactRoutePropTypes };\r\n\r\n  state = {};\r\n\r\n  render() {\r\n    const {\r\n      match: { params },\r\n    } = this.props;\r\n\r\n    return (\r\n      <ErrorCatch>\r\n        <Flex mt={9} justifyContent={'center'}>\r\n          <Container maxWidth={'500px'} width={'100%'}>\r\n            <Query\r\n              query={ProjectItemQuery}\r\n              variables={{\r\n                id: params.id,\r\n              }}>\r\n              {({ data, error, loading }) => {\r\n\r\n                if (loading) {\r\n                  console.error('loading:', loading);\r\n                  return 'Загрузка ...';\r\n                }\r\n                if (error) {\r\n                  console.error('Error:', error);\r\n                  throw Error(error);\r\n                }\r\n\r\n                if (!data || (data && !has.call(data, 'projectitem'))) {\r\n                  return null;\r\n                }\r\n\r\n                return (\r\n                  <FormProjectSettings\r\n                    initialValues={{\r\n                      ...data.projectitem,\r\n                      partners: data.projectitem\r\n                        ? data.projectitem.partners.map(item => item.id)\r\n                        : [],\r\n                    }}\r\n                  />\r\n                );\r\n              }}\r\n            </Query>\r\n          </Container>\r\n        </Flex>\r\n      </ErrorCatch>\r\n    );\r\n  }\r\n}\r\n\r\nProjectSettingsPage = connect(state => ({\r\n  user: getUserFromStore(state),\r\n}))(ProjectSettingsPage);\r\n\r\nexport default ProjectSettingsPage;\r\n"]}