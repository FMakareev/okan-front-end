4172fc4805ac12e4c43d4afc69b0a01b
"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = exports.ProjectListPage = void 0;

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf3 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireWildcard(require("react"));

var Sentry = _interopRequireWildcard(require("@sentry/browser"));

var _reactRedux = require("react-redux");

var _ReactRoutePropTypes = require("../../../../propTypes/ReactRoutePropTypes");

var _ErrorCatch = _interopRequireDefault(require("@lib/ui/ErrorCatch/ErrorCatch"));

var _Flex = _interopRequireDefault(require("@lib/ui/Flex/Flex"));

var _Container = _interopRequireDefault(require("@lib/ui/Container/Container"));

var _ButtonWithImage = require("@lib/ui/ButtonWithImage/ButtonWithImage");

var _Link = require("@lib/ui/Link/Link");

var _PaginationPageHOC = _interopRequireDefault(require("@lib/ui/PaginationPageHOC/PaginationPageHOC"));

var _PaginationPage = _interopRequireDefault(require("@lib/ui/PaginationPage/PaginationPage"));

var _SmallPreloader = _interopRequireDefault(require("@lib/ui/SmallPreloader/SmallPreloader"));

var _ProjectList = _interopRequireDefault(require("../../component/ProjectList/ProjectList"));

var _SvgPlay = require("@lib/ui/Icons/SvgPlay");

var _ProjectListQuery = _interopRequireDefault(require("./ProjectListQuery.graphql"));

var _selectors = require("../../../../store/reducers/user/selectors");

/**PropTypes */

/** View */

/** components */

/** Image */

/** Graphql schema */

/** Redux reducers*/
var has = Object.prototype.hasOwnProperty;

var ProjectListPage =
/*#__PURE__*/
function (_Component) {
  (0, _inherits2["default"])(ProjectListPage, _Component);

  function ProjectListPage() {
    var _getPrototypeOf2;

    var _this;

    (0, _classCallCheck2["default"])(this, ProjectListPage);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = (0, _possibleConstructorReturn2["default"])(this, (_getPrototypeOf2 = (0, _getPrototypeOf3["default"])(ProjectListPage)).call.apply(_getPrototypeOf2, [this].concat(args)));
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "state", {});
    return _this;
  }

  (0, _createClass2["default"])(ProjectListPage, [{
    key: "render",
    value: function render() {
      var user = this.props.user;
      return _react["default"].createElement(_ErrorCatch["default"], null, _react["default"].createElement(_Flex["default"], {
        mt: 9,
        justifyContent: 'center'
      }, _react["default"].createElement(_Container["default"], {
        maxWidth: '500px',
        width: '100%'
      }, _react["default"].createElement(_PaginationPageHOC["default"], {
        queryName: 'projectList',
        pageSize: 5,
        pageNumber: 1,
        queryVariables: {
          id: user && user.id
        },
        query: _ProjectListQuery["default"]
      }, function (props) {
        return _react["default"].createElement(_PaginationPage["default"], (0, _extends2["default"])({}, props, {
          data: props.data && props.data.projectList,
          Consumer: _ProjectList["default"]
        }));
      }), _react["default"].createElement(_Link.Link, {
        mr: 6,
        to: "/app/project-create",
        textDecoration: 'none'
      }, _react["default"].createElement(_ButtonWithImage.ButtonWithImage, {
        type: "submit",
        variant: 'large',
        size: 'medium',
        children: 'Создать проект',
        rightIcon: _react["default"].createElement(_SvgPlay.SvgPlay, null),
        ml: 9,
        width: '100%',
        widthIcon: '10px'
      })))));
    }
  }]);
  return ProjectListPage;
}(_react.Component);

exports.ProjectListPage = ProjectListPage;
(0, _defineProperty2["default"])(ProjectListPage, "propTypes", (0, _objectSpread2["default"])({}, _ReactRoutePropTypes.ReactRoutePropTypes));
exports.ProjectListPage = ProjectListPage = (0, _reactRedux.connect)(function (state) {
  return {
    user: (0, _selectors.getUserFromStore)(state)
  };
})(ProjectListPage);
var _default = ProjectListPage;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImhhcyIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiUHJvamVjdExpc3RQYWdlIiwidXNlciIsInByb3BzIiwiaWQiLCJQcm9qZWN0TGlzdFF1ZXJ5IiwiZGF0YSIsInByb2plY3RMaXN0IiwiUHJvamVjdExpc3QiLCJDb21wb25lbnQiLCJSZWFjdFJvdXRlUHJvcFR5cGVzIiwic3RhdGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBRUE7O0FBR0E7O0FBR0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBR0E7O0FBR0E7O0FBR0E7O0FBR0E7O0FBdkJBOztBQUdBOztBQVVBOztBQUdBOztBQUdBOztBQUdBO0FBR0EsSUFBTUEsR0FBRyxHQUFHQyxNQUFNLENBQUNDLFNBQVAsQ0FBaUJDLGNBQTdCOztJQU1hQyxlOzs7Ozs7Ozs7Ozs7Ozs7Ozs4RkFHSCxFOzs7Ozs7NkJBRUM7QUFBQSxVQUNBQyxJQURBLEdBQ1EsS0FBS0MsS0FEYixDQUNBRCxJQURBO0FBR1AsYUFDRSxnQ0FBQyxzQkFBRCxRQUNFLGdDQUFDLGdCQUFEO0FBQU0sUUFBQSxFQUFFLEVBQUUsQ0FBVjtBQUFhLFFBQUEsY0FBYyxFQUFFO0FBQTdCLFNBQ0UsZ0NBQUMscUJBQUQ7QUFBVyxRQUFBLFFBQVEsRUFBRSxPQUFyQjtBQUE4QixRQUFBLEtBQUssRUFBRTtBQUFyQyxTQUNFLGdDQUFDLDZCQUFEO0FBQ0UsUUFBQSxTQUFTLEVBQUUsYUFEYjtBQUVFLFFBQUEsUUFBUSxFQUFFLENBRlo7QUFHRSxRQUFBLFVBQVUsRUFBRSxDQUhkO0FBSUUsUUFBQSxjQUFjLEVBQUU7QUFDZEUsVUFBQUEsRUFBRSxFQUFFRixJQUFJLElBQUlBLElBQUksQ0FBQ0U7QUFESCxTQUpsQjtBQU9FLFFBQUEsS0FBSyxFQUFFQztBQVBULFNBU0csVUFBQ0YsS0FBRDtBQUFBLGVBQ0MsZ0NBQUMsMEJBQUQsZ0NBQ01BLEtBRE47QUFFRSxVQUFBLElBQUksRUFBRUEsS0FBSyxDQUFDRyxJQUFOLElBQWNILEtBQUssQ0FBQ0csSUFBTixDQUFXQyxXQUZqQztBQUdFLFVBQUEsUUFBUSxFQUFFQztBQUhaLFdBREQ7QUFBQSxPQVRILENBREYsRUFtQkUsZ0NBQUMsVUFBRDtBQUFNLFFBQUEsRUFBRSxFQUFFLENBQVY7QUFBYSxRQUFBLEVBQUUsdUJBQWY7QUFBd0MsUUFBQSxjQUFjLEVBQUU7QUFBeEQsU0FDRSxnQ0FBQyxnQ0FBRDtBQUNFLFFBQUEsSUFBSSxFQUFDLFFBRFA7QUFFRSxRQUFBLE9BQU8sRUFBRSxPQUZYO0FBR0UsUUFBQSxJQUFJLEVBQUUsUUFIUjtBQUlFLFFBQUEsUUFBUSxFQUFFLGdCQUpaO0FBS0UsUUFBQSxTQUFTLEVBQUUsZ0NBQUMsZ0JBQUQsT0FMYjtBQU1FLFFBQUEsRUFBRSxFQUFFLENBTk47QUFPRSxRQUFBLEtBQUssRUFBRSxNQVBUO0FBUUUsUUFBQSxTQUFTLEVBQUU7QUFSYixRQURGLENBbkJGLENBREYsQ0FERixDQURGO0FBd0NEOzs7RUFoRGtDQyxnQjs7O2lDQUF4QlIsZSxrREFDWVMsd0M7QUFrRHpCLDBCQUFBVCxlQUFlLEdBQUcseUJBQVEsVUFBQVUsS0FBSztBQUFBLFNBQUs7QUFDbENULElBQUFBLElBQUksRUFBRSxpQ0FBaUJTLEtBQWpCO0FBRDRCLEdBQUw7QUFBQSxDQUFiLEVBRWRWLGVBRmMsQ0FBbEI7ZUFHZUEsZSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwge0NvbXBvbmVudH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgKiBhcyBTZW50cnkgZnJvbSAnQHNlbnRyeS9icm93c2VyJztcclxuXHJcbmltcG9ydCB7Y29ubmVjdH0gZnJvbSAncmVhY3QtcmVkdXgnO1xyXG5cclxuLyoqUHJvcFR5cGVzICovXHJcbmltcG9ydCB7UmVhY3RSb3V0ZVByb3BUeXBlc30gZnJvbSAnLi4vLi4vLi4vLi4vcHJvcFR5cGVzL1JlYWN0Um91dGVQcm9wVHlwZXMnO1xyXG5cclxuLyoqIFZpZXcgKi9cclxuaW1wb3J0IEVycm9yQ2F0Y2ggZnJvbSAnQGxpYi91aS9FcnJvckNhdGNoL0Vycm9yQ2F0Y2gnO1xyXG5pbXBvcnQgRmxleCBmcm9tICdAbGliL3VpL0ZsZXgvRmxleCc7XHJcbmltcG9ydCBDb250YWluZXIgZnJvbSAnQGxpYi91aS9Db250YWluZXIvQ29udGFpbmVyJztcclxuaW1wb3J0IHtCdXR0b25XaXRoSW1hZ2V9IGZyb20gJ0BsaWIvdWkvQnV0dG9uV2l0aEltYWdlL0J1dHRvbldpdGhJbWFnZSc7XHJcbmltcG9ydCB7TGlua30gZnJvbSAnQGxpYi91aS9MaW5rL0xpbmsnO1xyXG5pbXBvcnQgUGFnaW5hdGlvblBhZ2VIT0MgZnJvbSAnQGxpYi91aS9QYWdpbmF0aW9uUGFnZUhPQy9QYWdpbmF0aW9uUGFnZUhPQyc7XHJcbmltcG9ydCBQYWdpbmF0aW9uUGFnZSBmcm9tICdAbGliL3VpL1BhZ2luYXRpb25QYWdlL1BhZ2luYXRpb25QYWdlJztcclxuaW1wb3J0IFNtYWxsUHJlbG9hZGVyIGZyb20gJ0BsaWIvdWkvU21hbGxQcmVsb2FkZXIvU21hbGxQcmVsb2FkZXInO1xyXG5cclxuLyoqIGNvbXBvbmVudHMgKi9cclxuaW1wb3J0IFByb2plY3RMaXN0IGZyb20gJy4uLy4uL2NvbXBvbmVudC9Qcm9qZWN0TGlzdC9Qcm9qZWN0TGlzdCc7XHJcblxyXG4vKiogSW1hZ2UgKi9cclxuaW1wb3J0IHtTdmdQbGF5fSBmcm9tICdAbGliL3VpL0ljb25zL1N2Z1BsYXknO1xyXG5cclxuLyoqIEdyYXBocWwgc2NoZW1hICovXHJcbmltcG9ydCBQcm9qZWN0TGlzdFF1ZXJ5IGZyb20gJy4vUHJvamVjdExpc3RRdWVyeS5ncmFwaHFsJztcclxuXHJcbi8qKiBSZWR1eCByZWR1Y2VycyovXHJcbmltcG9ydCB7Z2V0VXNlckZyb21TdG9yZX0gZnJvbSAnLi4vLi4vLi4vLi4vc3RvcmUvcmVkdWNlcnMvdXNlci9zZWxlY3RvcnMnO1xyXG5cclxuY29uc3QgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgUHJvamVjdExpc3RQYWdlIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBzdGF0aWMgcHJvcFR5cGVzID0gey4uLlJlYWN0Um91dGVQcm9wVHlwZXN9O1xyXG5cclxuICBzdGF0ZSA9IHt9O1xyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICBjb25zdCB7dXNlcn0gPSB0aGlzLnByb3BzO1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxFcnJvckNhdGNoPlxyXG4gICAgICAgIDxGbGV4IG10PXs5fSBqdXN0aWZ5Q29udGVudD17J2NlbnRlcid9PlxyXG4gICAgICAgICAgPENvbnRhaW5lciBtYXhXaWR0aD17JzUwMHB4J30gd2lkdGg9eycxMDAlJ30+XHJcbiAgICAgICAgICAgIDxQYWdpbmF0aW9uUGFnZUhPQ1xyXG4gICAgICAgICAgICAgIHF1ZXJ5TmFtZT17J3Byb2plY3RMaXN0J31cclxuICAgICAgICAgICAgICBwYWdlU2l6ZT17NX1cclxuICAgICAgICAgICAgICBwYWdlTnVtYmVyPXsxfVxyXG4gICAgICAgICAgICAgIHF1ZXJ5VmFyaWFibGVzPXt7XHJcbiAgICAgICAgICAgICAgICBpZDogdXNlciAmJiB1c2VyLmlkXHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICBxdWVyeT17UHJvamVjdExpc3RRdWVyeX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIHsocHJvcHMpID0+IChcclxuICAgICAgICAgICAgICAgIDxQYWdpbmF0aW9uUGFnZVxyXG4gICAgICAgICAgICAgICAgICB7Li4ucHJvcHN9XHJcbiAgICAgICAgICAgICAgICAgIGRhdGE9e3Byb3BzLmRhdGEgJiYgcHJvcHMuZGF0YS5wcm9qZWN0TGlzdH1cclxuICAgICAgICAgICAgICAgICAgQ29uc3VtZXI9e1Byb2plY3RMaXN0fVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8L1BhZ2luYXRpb25QYWdlSE9DPlxyXG5cclxuICAgICAgICAgICAgPExpbmsgbXI9ezZ9IHRvPXtgL2FwcC9wcm9qZWN0LWNyZWF0ZWB9IHRleHREZWNvcmF0aW9uPXsnbm9uZSd9PlxyXG4gICAgICAgICAgICAgIDxCdXR0b25XaXRoSW1hZ2VcclxuICAgICAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxyXG4gICAgICAgICAgICAgICAgdmFyaWFudD17J2xhcmdlJ31cclxuICAgICAgICAgICAgICAgIHNpemU9eydtZWRpdW0nfVxyXG4gICAgICAgICAgICAgICAgY2hpbGRyZW49eyfQodC+0LfQtNCw0YLRjCDQv9GA0L7QtdC60YInfVxyXG4gICAgICAgICAgICAgICAgcmlnaHRJY29uPXs8U3ZnUGxheS8+fVxyXG4gICAgICAgICAgICAgICAgbWw9ezl9XHJcbiAgICAgICAgICAgICAgICB3aWR0aD17JzEwMCUnfVxyXG4gICAgICAgICAgICAgICAgd2lkdGhJY29uPXsnMTBweCd9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9MaW5rPlxyXG5cclxuXHJcbiAgICAgICAgICA8L0NvbnRhaW5lcj5cclxuICAgICAgICA8L0ZsZXg+XHJcbiAgICAgIDwvRXJyb3JDYXRjaD5cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5Qcm9qZWN0TGlzdFBhZ2UgPSBjb25uZWN0KHN0YXRlID0+ICh7XHJcbiAgdXNlcjogZ2V0VXNlckZyb21TdG9yZShzdGF0ZSksXHJcbn0pKShQcm9qZWN0TGlzdFBhZ2UpO1xyXG5leHBvcnQgZGVmYXVsdCBQcm9qZWN0TGlzdFBhZ2U7XHJcbiJdfQ==