{"version":3,"sources":["apolloClientMock.js"],"names":["require","ApolloClient","InMemoryCache","SchemaLink","makeExecutableSchema","addMockFunctionsToSchema","merge","setupClient","mockResolvers","typeDefs","createClient","overwriteMocks","mergedMocks","schema","mocks","apolloCache","isBrowser","window","APOLLO_STATE","cache","link"],"mappings":";;;;;;;;;;;;eAAyBA,OAAO,CAAC,eAAD,C;IAAxBC,Y,YAAAA,Y;;gBACkBD,OAAO,CAAC,uBAAD,C;IAAzBE,a,aAAAA,a;;gBACeF,OAAO,CAAC,oBAAD,C;IAAtBG,U,aAAAA,U;;gBACmDH,OAAO,CAAC,eAAD,C;IAA1DI,oB,aAAAA,oB;IAAsBC,wB,aAAAA,wB;;AAC9B,IAAMC,KAAK,GAAGN,OAAO,CAAC,cAAD,CAArB;;AAEO,SAASO,WAAT,CAAqBC,aAArB,EAAoCC,QAApC,EAA8C;AACnD,SAAO,SAASC,YAAT,GAA2C;AAAA,QAArBC,cAAqB,uEAAJ,EAAI;AAChD,QAAMC,WAAW,GAAGN,KAAK,oCAAME,aAAN,GAAuBG,cAAvB,CAAzB;AAEA,QAAME,MAAM,GAAGT,oBAAoB,CAAC;AAAEK,MAAAA,QAAQ,EAARA;AAAF,KAAD,CAAnC;AACAJ,IAAAA,wBAAwB,CAAC;AACvBQ,MAAAA,MAAM,EAANA,MADuB;AAEvBC,MAAAA,KAAK,EAAEF;AAFgB,KAAD,CAAxB;AAKA,QAAMG,WAAW,GAAG,IAAIb,aAAJ,CAAkBc,SAAS,GAAGC,MAAM,CAACC,YAAV,GAAyB,EAApD,CAApB;AAEA,WAAO,IAAIjB,YAAJ,CAAiB;AACtBkB,MAAAA,KAAK,EAAEJ,WADe;AAEtBK,MAAAA,IAAI,EAAE,IAAIjB,UAAJ,CAAe;AAAEU,QAAAA,MAAM,EAANA;AAAF,OAAf;AAFgB,KAAjB,CAAP;AAID,GAfD;AAgBD;;eAEcN,W","sourcesContent":["const { ApolloClient } = require('apollo-client');\r\nconst { InMemoryCache } = require('apollo-cache-inmemory');\r\nconst { SchemaLink } = require('apollo-link-schema');\r\nconst { makeExecutableSchema, addMockFunctionsToSchema } = require('graphql-tools');\r\nconst merge = require('lodash/merge');\r\n\r\nexport function setupClient(mockResolvers, typeDefs) {\r\n  return function createClient(overwriteMocks = {}) {\r\n    const mergedMocks = merge({ ...mockResolvers }, overwriteMocks);\r\n\r\n    const schema = makeExecutableSchema({ typeDefs });\r\n    addMockFunctionsToSchema({\r\n      schema,\r\n      mocks: mergedMocks,\r\n    });\r\n\r\n    const apolloCache = new InMemoryCache(isBrowser ? window.APOLLO_STATE : {});\r\n\r\n    return new ApolloClient({\r\n      cache: apolloCache,\r\n      link: new SchemaLink({ schema }),\r\n    });\r\n  };\r\n}\r\n\r\nexport default setupClient;\r\n"]}