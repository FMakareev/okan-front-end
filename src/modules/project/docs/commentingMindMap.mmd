Mind Map generated by NB MindMap plugin
> __version__=`1.1`,showJumps=`true`
---

# CommentController

## mode == PROJECT\_MODE\_READ\_COMMENTING || <br/>mode == PROJECT\_MODE\_WRITE

### yes

#### user == author

##### yes

###### comments\.length \> 0

####### yes

######## show comment button

######### click for button

########## is open?

########### yes

############ show comment list

########### no

####### no

######## hide comment button

##### no

###### user == partner

####### yes

######## show comment button

######### click for button

########## is open?

########### yes

############ comments\.length \> 0 &&<br/>one of comments created user

############# yes

############## show comment in component <br/>"EditorCellCommentItem

############# no

############## show component <br/>"EditorCellCommentCreateForm"

############### write comment

################ form in focus?

################# Yes

################# no

################## save comment on server

################### save comment in current cell in cache

#################### replace component "EditorCellCommentCreateForm" on<br/>"EditorCellCommentForm"

########### no

####### no

######## hide comment button

### no

#### hide comment button
